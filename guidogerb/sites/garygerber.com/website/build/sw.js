const CACHE_NAME = "guidogerb-cache-v1";
const INITIAL_CACHED_RESOURCES = [
  "/",
  "/index.html",
  "/offline.html",
  "/assets/main-BvQcH7J_.js",
  "/assets/main-BEX1ocfc.css",
  "/icons/favicon.ico",
  "/manifest.json",
  "/manifest.webmanifest"
];
self.addEventListener("install", (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME).then((cache) => {
      return Promise.allSettled(
        INITIAL_CACHED_RESOURCES.map(async (url) => {
          try {
            const response = await fetch(url);
            if (!response.ok) {
              throw new Error(`Failed to fetch ${url}`);
            }
            await cache.put(url, response);
            console.log(`Successfully cached: ${url}`);
          } catch (error) {
            console.warn(`Failed to cache: ${url}`, error);
          }
        })
      );
    })
  );
});
self.addEventListener("activate", (event) => {
  event.waitUntil(
    caches.keys().then((cacheNames) => {
      return Promise.all(
        cacheNames.map((cacheName) => {
          if (cacheName !== CACHE_NAME) {
            return caches.delete(cacheName);
          }
        })
      );
    })
  );
});
self.addEventListener("fetch", (event) => {
  if (!event.request.url.startsWith(self.location.origin)) {
    return;
  }
  event.respondWith(
    fetch(event.request).then((response) => {
      if (!response.ok) {
        throw new Error("Network response was not ok");
      }
      const responseToCache = response.clone();
      caches.open(CACHE_NAME).then((cache) => {
        cache.put(event.request, responseToCache);
      });
      return response;
    }).catch(async () => {
      const cachedResponse = await caches.match(event.request);
      if (cachedResponse) {
        return cachedResponse;
      }
      if (event.request.mode === "navigate") {
        const cachedIndex = await caches.match("/index.html");
        if (cachedIndex) {
          return cachedIndex;
        }
        return caches.match("/offline.html");
      }
      return new Response("Network error happened", {
        status: 404,
        headers: { "Content-Type": "text/plain" }
      });
    })
  );
});
self.addEventListener("push", (event) => {
  var _a;
  const options = {
    body: ((_a = event.data) == null ? void 0 : _a.text()) || "No content",
    icon: "/icons/favicon.ico",
    // Use favicon as fallback if other icons aren't available
    icons: "/icons/icons-192x192.png",
    badge: "/icons/badge-72x72.png"
  };
  event.waitUntil(
    self.registration.showNotification("GuidoGerb Publishing", options)
  );
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3cubWpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBOYW1lIG9mIHRoZSBjYWNoZVxyXG5jb25zdCBDQUNIRV9OQU1FID0gJ2d1aWRvZ2VyYi1jYWNoZS12MSc7XHJcblxyXG4vLyBBZGQgYW55IGluaXRpYWwgVVJMcyB5b3Ugd2FudCB0byBjYWNoZSBpbW1lZGlhdGVseVxyXG5jb25zdCBJTklUSUFMX0NBQ0hFRF9SRVNPVVJDRVMgPSBbXG4gICAgJy8nLFxuICAgICcvaW5kZXguaHRtbCcsXG4gICAgJy9vZmZsaW5lLmh0bWwnLFxuICAgICcvYXNzZXRzL21haW4tQnZRY0g3Sl8uanMnLFxuICAgICcvYXNzZXRzL21haW4tQkVYMW9jZmMuY3NzJyxcbiAgICAnL2ljb25zL2Zhdmljb24uaWNvJyxcbiAgICAnL21hbmlmZXN0Lmpzb24nLFxuICAgICcvbWFuaWZlc3Qud2VibWFuaWZlc3QnXG5dO1xyXG5cclxuLy8gSW5zdGFsbCBldmVudCAtIGNhY2hlIGluaXRpYWwgcmVzb3VyY2VzIHdpdGggZXJyb3IgaGFuZGxpbmdcclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgKGV2ZW50KSA9PiB7XHJcbiAgICBldmVudC53YWl0VW50aWwoXHJcbiAgICAgICAgY2FjaGVzLm9wZW4oQ0FDSEVfTkFNRSkudGhlbigoY2FjaGUpID0+IHtcclxuICAgICAgICAgICAgLy8gQ2FjaGUgcmVzb3VyY2VzIG9uZSBieSBvbmUgdG8gaGFuZGxlIGZhaWx1cmVzIGdyYWNlZnVsbHlcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsU2V0dGxlZChcclxuICAgICAgICAgICAgICAgIElOSVRJQUxfQ0FDSEVEX1JFU09VUkNFUy5tYXAoYXN5bmMgKHVybCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggJHt1cmx9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FjaGUucHV0KHVybCwgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGNhY2hlZDogJHt1cmx9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gY2FjaGU6ICR7dXJsfWAsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG59KTtcclxuXHJcbi8vIEFjdGl2YXRlIGV2ZW50IC0gY2xlYW51cCBvbGQgY2FjaGVzXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYWN0aXZhdGUnLCAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LndhaXRVbnRpbChcclxuICAgICAgICBjYWNoZXMua2V5cygpLnRoZW4oKGNhY2hlTmFtZXMpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFxyXG4gICAgICAgICAgICAgICAgY2FjaGVOYW1lcy5tYXAoKGNhY2hlTmFtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWNoZU5hbWUgIT09IENBQ0hFX05BTUUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlcy5kZWxldGUoY2FjaGVOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG59KTtcclxuXHJcbi8vIEZldGNoIGV2ZW50IC0gbmV0d29yayBmaXJzdCB3aXRoIGdyYWNlZnVsIGZhbGxiYWNrXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCAoZXZlbnQpID0+IHtcclxuICAgIC8vIE9ubHkgaGFuZGxlIHNhbWUtb3JpZ2luIHJlcXVlc3RzXHJcbiAgICBpZiAoIWV2ZW50LnJlcXVlc3QudXJsLnN0YXJ0c1dpdGgoc2VsZi5sb2NhdGlvbi5vcmlnaW4pKSB7XHJcbiAgICAgICAgLy8gRm9yIGNyb3NzLW9yaWdpbiByZXF1ZXN0cywganVzdCBwYXNzIHRocm91Z2ggdG8gdGhlIG5ldHdvcmtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnQucmVzcG9uZFdpdGgoXHJcbiAgICAgICAgZmV0Y2goZXZlbnQucmVxdWVzdClcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGNhY2hlIHN1Y2Nlc3NmdWwgcmVzcG9uc2VzXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2snKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDbG9uZSB0aGUgcmVzcG9uc2UgYmVmb3JlIGNhY2hpbmdcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlVG9DYWNoZSA9IHJlc3BvbnNlLmNsb25lKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIGZldGNoZWQgcmVzcG9uc2VcclxuICAgICAgICAgICAgICAgIGNhY2hlcy5vcGVuKENBQ0hFX05BTUUpLnRoZW4oKGNhY2hlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUucHV0KGV2ZW50LnJlcXVlc3QsIHJlc3BvbnNlVG9DYWNoZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBuZXR3b3JrIGZhaWxzLCB0cnkgdG8gZ2V0IGZyb20gY2FjaGVcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlZFJlc3BvbnNlID0gYXdhaXQgY2FjaGVzLm1hdGNoKGV2ZW50LnJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlZFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHBhZ2UsIHRyeSB0byBzZXJ2ZSBpbmRleC5odG1sIGZyb20gY2FjaGVcclxuICAgICAgICAgICAgICAgIGlmIChldmVudC5yZXF1ZXN0Lm1vZGUgPT09ICduYXZpZ2F0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZWRJbmRleCA9IGF3YWl0IGNhY2hlcy5tYXRjaCgnL2luZGV4Lmh0bWwnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVkSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZEluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGZhbGwgYmFjayB0byBvZmZsaW5lLmh0bWwgaWYgd2UgY2FuJ3Qgc2VydmUgdGhlIGNhY2hlZCBhcHBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVzLm1hdGNoKCcvb2ZmbGluZS5odG1sJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgbm90aGluZyBlbHNlIG1hdGNoZXNcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoJ05ldHdvcmsgZXJyb3IgaGFwcGVuZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiA0MDQsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW4nIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICk7XHJcbn0pO1xyXG4vLyBPcHRpb25hbDogSGFuZGxlIHB1c2ggbm90aWZpY2F0aW9uc1xyXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ3B1c2gnLCAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgYm9keTogZXZlbnQuZGF0YT8udGV4dCgpIHx8ICdObyBjb250ZW50JyxcclxuICAgICAgICBpY29uOiAnL2ljb25zL2Zhdmljb24uaWNvJywgLy8gVXNlIGZhdmljb24gYXMgZmFsbGJhY2sgaWYgb3RoZXIgaWNvbnMgYXJlbid0IGF2YWlsYWJsZVxyXG4gICAgICAgIGljb25zOiAnL2ljb25zL2ljb25zLTE5MngxOTIucG5nJyxcclxuICAgICAgICBiYWRnZTogJy9pY29ucy9iYWRnZS03Mng3Mi5wbmcnLFxyXG4gICAgfTtcclxuXHJcbiAgICBldmVudC53YWl0VW50aWwoXHJcbiAgICAgICAgc2VsZi5yZWdpc3RyYXRpb24uc2hvd05vdGlmaWNhdGlvbignR3VpZG9HZXJiIFB1Ymxpc2hpbmcnLCBvcHRpb25zKVxyXG4gICAgKTtcclxufSk7Il0sCiAgIm1hcHBpbmdzIjogIkFBQ0EsTUFBTSxhQUFhO0FBR25CLE1BQU0sMkJBQTJCO0FBQUEsRUFDN0I7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFB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
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3cubWpzIiwic291cmNlcyI6W10sInNvdXJjZXNDb250ZW50IjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiJ9
